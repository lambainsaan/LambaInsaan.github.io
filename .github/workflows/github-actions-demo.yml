name: Angular GitHub CI
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on:
  push:
    branches:
      - main
jobs:
  ci:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [16.x]

steps:
  - uses:
      actions/checkout@v2

- name: Use Node.js $
- uses: actions/setup-node@v1
  with:
    node-version:
      $


- name: Cache node modules
  id: cache-nodemodules
  uses: actions/cache@v2
  env:
    cache-name: cache-node-modules
  with:
    # caching node_modules
    path: node_modules # ðŸ‘ˆ path for node_modules folder
    key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/package-lock.json') }}
    # ðŸ‘† name of the chache key includes package-lock.json
    restore-keys: |
      ${{ runner.os }}-build-${{ env.cache-name }}-
      ${{ runner.os }}-build-
      ${{ runner.os }}-
- name: Install Dependencies
  if:
    steps.cache-nodemodules.outputs.cache-hit != 'true'
    # ðŸ‘† if cache hits the skip this step.
  run: npm ci

- name: Build
  run: npm run build -- --prod

